
<h1>{{ 'Utilisateur' | plural:usersFiltered().length }}</h1>

<!-- <app-opacity [opacity]="0.2" (onChange)="listenOpacity($event)" /> -->

<!-- <app-draw /> -->

<input type="text" [(ngModel)]="indexUser">
<button (click)="scrollToUser()">Scroll To User</button>

@if (error()) {
    <p>{{ error() }}</p>
}

<form (ngSubmit)="createUser(formRef)" #formRef="ngForm">

    @if (formRef.invalid && formRef.submitted) {
       @if (email.hasError('required')) {
         <p>Email requis</p>
       }
       @if (name.hasError('required')) {
         <p>Nom requis</p>
       }
    }

    <label>Email</label>
    <input type="text" name="email" 
        ngModel #email="ngModel" required minlength="4">

     <label>Nom</label>
    <input type="text" #name="ngModel" name="name" ngModel>

    <button [aria-busy]="loadingCreate()" [disabled]="loadingCreate()">Cr√©er utilisateur</button>
</form>

<select [(ngModel)]="extSelected">
    <option value="">Tous</option>
    @for (ext of extensions() ; track ext) {
        <option>{{ ext }}</option>
    }
</select>


<app-loader [loading]="loading()">
    @for (u of usersFiltered() ; track u.id) {
        <div #cardRef>
            <app-user-card [user]="u" (onDelete)="deleteUser($event)">
                <h1 entete>test</h1>
                <h2>footer</h2>
            </app-user-card>
        </div>
    }
</app-loader>