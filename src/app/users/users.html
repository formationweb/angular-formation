<h1>{{ 'Utilisateur' | plural:usersFiltered().length }}</h1>

<!-- <app-opacity (onChange)="listenChange($event)" color="black" />  -->
 <!-- <app-draw /> -->

<select [(ngModel)]="extSelected">
    <option value="">Tous</option>
    @for (ext of extensions() ; track ext) {
        <option>{{ ext }}</option>
    }
</select>

<input type="text" [(ngModel)]="userIndex">
<button (click)="scrollToUser()">Scroll To User</button>
@if (error()) {
    <p>{{ error() }}</p>
}

<form (ngSubmit)="createUser(formRef)" #formRef="ngForm">

    @if (formRef.invalid && formRef.submitted) {
        <p>Formulaire invalide</p>
        @if (email.hasError('required')) {
            <p>Email obligatoire</p>
        }
        @if (name.hasError('required')) {
            <p>Nom obligatoire</p>
        }
    }

    <label>Email</label>
    <input type="text" name="email" ngModel #email="ngModel" required>

    <label>Nom</label>
    <input type="text" name="name" ngModel #name="ngModel" required>

    <button [ariaBusy]="loadingCreate()" [disabled]="loadingCreate()">Cr√©er</button>
</form>

<app-loader [loading]="loading()">
    @for (u of usersFiltered() ; track u.id) {
        <div #userRef>
            <app-user-card [user]="u" (onDelete)="deleteUser($event)">
                <h1 header>test1</h1>
                <h2>test2</h2>
                <h3 footer>test3</h3>
            </app-user-card>
        </div>
    }
</app-loader>